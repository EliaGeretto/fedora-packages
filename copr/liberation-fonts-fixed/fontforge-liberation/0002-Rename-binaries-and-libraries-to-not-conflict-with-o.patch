From c5862ca979b6df577937104cb3271829cb2c3d36 Mon Sep 17 00:00:00 2001
From: Andrew Gunnerson <chenxiaolong@cxl.epac.to>
Date: Sun, 19 Mar 2017 18:44:04 -0400
Subject: [PATCH 2/2] Rename binaries and libraries to not conflict with
 official package

---
 Unicode/Makefile.am             | 12 +++----
 collab/Makefile.am              | 12 +++----
 fontforge/Makefile.am           | 30 ++++++++---------
 fontforgeexe/Makefile.am        | 72 ++++++++++++++++++++---------------------
 fontforgeexe/collab/Makefile.am |  6 ++--
 gdraw/Makefile.am               | 18 +++++------
 gtkui/Makefile.in               |  4 +--
 gutils/Makefile.am              | 24 +++++++-------
 pyhook/Makefile.am              |  8 ++---
 9 files changed, 93 insertions(+), 93 deletions(-)

diff --git a/Unicode/Makefile.am b/Unicode/Makefile.am
index 9bdf46d18..f049f91b4 100644
--- a/Unicode/Makefile.am
+++ b/Unicode/Makefile.am
@@ -25,9 +25,9 @@
 # OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 # ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
-lib_LTLIBRARIES = libgunicode.la
+lib_LTLIBRARIES = libgunicode-liberation.la
 
-libgunicode_la_SOURCES =	\
+libgunicode_liberation_la_SOURCES =	\
 	charset/alphabet.c	\
 	charset/big5.c		\
 	charset/big5hkscs.c	\
@@ -70,15 +70,15 @@ libgunicode_la_SOURCES =	\
 
 #	usprintf.c
 
-libgunicode_la_CFLAGS = $(WARN_CFLAGS)
-libgunicode_la_CPPFLAGS = "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc"	\
+libgunicode_liberation_la_CFLAGS = $(WARN_CFLAGS)
+libgunicode_liberation_la_CPPFLAGS = "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc"	\
 	"-I$(top_builddir)/lib" "-I$(top_srcdir)/lib"			\
 	$(MY_CFLAGS)
 
-libgunicode_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBGUNICODE_VERSION) \
+libgunicode_liberation_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBGUNICODE_VERSION) \
 	${MY_LIB_LDFLAGS} $(top_builddir)/lib/libgnu.la
 
-libgunicode_la_LIBADD = $(MY_LIBS)
+libgunicode_liberation_la_LIBADD = $(MY_LIBS)
 
 #--------------------------------------------------------------------------
 
diff --git a/collab/Makefile.am b/collab/Makefile.am
index 42a9ba299..d1cc332fc 100644
--- a/collab/Makefile.am
+++ b/collab/Makefile.am
@@ -24,21 +24,21 @@
 # OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 # ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
-lib_LTLIBRARIES = libzmqcollab.la
+lib_LTLIBRARIES = libzmqcollab-liberation.la
 
 #--------------------------------------------------------------------------
 
-libzmqcollab_la_SOURCES = zmq_kvmsg.c zmq_kvmsg.h
+libzmqcollab_liberation_la_SOURCES = zmq_kvmsg.c zmq_kvmsg.h
 
-libzmqcollab_la_CFLAGS = $(WARN_CFLAGS)
+libzmqcollab_liberation_la_CFLAGS = $(WARN_CFLAGS)
 
-libzmqcollab_la_CPPFLAGS = \
+libzmqcollab_liberation_la_CPPFLAGS = \
  "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc" \
  "-I$(top_builddir)/lib" "-I$(top_srcdir)/lib" \
  $(MY_CFLAGS) $(LIBZMQ_CFLAGS) $(GLIB_CFLAGS)
 
-libzmqcollab_la_LIBADD = $(MY_LIBS) $(GLIB_LIBS) $(LIBZMQ_LIBS) $(top_builddir)/lib/libgnu.la
-libzmqcollab_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBZMQCOLLAB_VERSION) \
+libzmqcollab_liberation_la_LIBADD = $(MY_LIBS) $(GLIB_LIBS) $(LIBZMQ_LIBS) $(top_builddir)/lib/libgnu.la
+libzmqcollab_liberation_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBZMQCOLLAB_VERSION) \
 	${MY_LIB_LDFLAGS}
 
 #--------------------------------------------------------------------------
diff --git a/fontforge/Makefile.am b/fontforge/Makefile.am
index 7970da919..a0d181758 100644
--- a/fontforge/Makefile.am
+++ b/fontforge/Makefile.am
@@ -29,7 +29,7 @@ include $(top_srcdir)/mk/layout.am
 
 #--------------------------------------------------------------------------
 
-lib_LTLIBRARIES = libfontforge.la
+lib_LTLIBRARIES = libfontforge-liberation.la
 
 #--------------------------------------------------------------------------
 
@@ -48,9 +48,9 @@ pkginclude_HEADERS = autowidth2.h configure-fontforge.h fontforge.h		\
 
 #--------------------------------------------------------------------------
 
-LIBADD = $(top_builddir)/Unicode/libgunicode.la	\
-	$(top_builddir)/gutils/libgutils.la	\
-	$(top_builddir)/gutils/libgioftp.la	\
+LIBADD = $(top_builddir)/Unicode/libgunicode-liberation.la	\
+	$(top_builddir)/gutils/libgutils-liberation.la	\
+	$(top_builddir)/gutils/libgioftp-liberation.la	\
 	$(top_builddir)/lib/libgnu.la
 
 AM_CFLAGS = $(WARN_CFLAGS)
@@ -63,7 +63,7 @@ AM_CPPFLAGS = "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc"		\
 
 #--------------------------------------------------------------------------
 
-libfontforge_la_SOURCES = activeinui.c asmfpst.c autohint.c autosave.c	\
+libfontforge_liberation_la_SOURCES = activeinui.c asmfpst.c autohint.c autosave.c	\
 	autotrace.c autowidth.c autowidth2.c bezctx_ff.c bitmapchar.c	\
 	bitmapcontrol.c bvedit.c collabclient.c collabclient.h		\
 	collabclientpriv.h clipnoui.c crctab.c cvexport.c cvimages.c	\
@@ -85,37 +85,37 @@ libfontforge_la_SOURCES = activeinui.c asmfpst.c autohint.c autosave.c	\
 	utils.c winfonts.c woff.c zapfnomen.c \
 	glif_name_hash.c
 
-EXTRA_libfontforge_la_SOURCES = splinerefigure.c
+EXTRA_libfontforge_liberation_la_SOURCES = splinerefigure.c
 
-libfontforge_la_CPPFLAGS = $(AM_CPPFLAGS) $(LIBZMQ_CFLAGS)
-libfontforge_la_LIBADD = splinerefigure.lo $(LIBADD) $(LIBLTDL)
+libfontforge_liberation_la_CPPFLAGS = $(AM_CPPFLAGS) $(LIBZMQ_CFLAGS)
+libfontforge_liberation_la_LIBADD = splinerefigure.lo $(LIBADD) $(LIBLTDL)
 
 if PLUGIN_GB12345
-libfontforge_la_LIBADD += -dlopen $(top_builddir)/plugins/gb12345.la
+libfontforge_liberation_la_LIBADD += -dlopen $(top_builddir)/plugins/gb12345.la
 endif PLUGIN_GB12345
 
 if LIBZMQ
-libfontforge_la_LIBADD += $(top_builddir)/collab/libzmqcollab.la $(LIBZMQ_LIBS)
+libfontforge_liberation_la_LIBADD += $(top_builddir)/collab/libzmqcollab-liberation.la $(LIBZMQ_LIBS)
 endif LIBZMQ
 
-libfontforge_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBFONTFORGE_VERSION) \
+libfontforge_liberation_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBFONTFORGE_VERSION) \
 	${MY_LIB_LDFLAGS}
 
 if PYTHON_SCRIPTING
 if !MACINTOSH
-libfontforge_la_LIBADD += $(PYTHON_LIBS)
+libfontforge_liberation_la_LIBADD += $(PYTHON_LIBS)
 else
-libfontforge_la_LDFLAGS += -undefined dynamic_lookup
+libfontforge_liberation_la_LDFLAGS += -undefined dynamic_lookup
 endif MACINTOSH
 endif PYTHON_SCRIPTING
 
-libfontforge_la_LIBADD += $(MY_LIBS)
+libfontforge_liberation_la_LIBADD += $(MY_LIBS)
 
 #--------------------------------------------------------------------------
 
 GUILIBADD =
 if GRAPHICAL_USER_INTERFACE
-GUILIBADD += $(top_builddir)/gdraw/libgdraw.la $(XINPUT_LIBS) $(XKB_LIBS)
+GUILIBADD += $(top_builddir)/gdraw/libgdraw-liberation.la $(XINPUT_LIBS) $(XKB_LIBS)
 endif GRAPHICAL_USER_INTERFACE
 
 LDADD = $(LIBADD) $(GUILIBADD)
diff --git a/fontforgeexe/Makefile.am b/fontforgeexe/Makefile.am
index cc5cb062d..5c0a9e905 100644
--- a/fontforgeexe/Makefile.am
+++ b/fontforgeexe/Makefile.am
@@ -31,17 +31,17 @@ include $(top_srcdir)/mk/layout.am
 
 if THE_PROGRAMS
 
-bin_PROGRAMS = fontforge
+bin_PROGRAMS = fontforge-liberation
 dist_man_MANS = fontforge.1
 
 if NATIVE_SCRIPTING
-nodist_bin_SCRIPTS = fontimage fontlint sfddiff
+nodist_bin_SCRIPTS = fontimage-liberation fontlint-liberation sfddiff-liberation
 dist_man_MANS += fontimage.1 fontlint.1 sfddiff.1
 endif NATIVE_SCRIPTING
 
 endif THE_PROGRAMS
 
-lib_LTLIBRARIES = libfontforgeexe.la
+lib_LTLIBRARIES = libfontforgeexe-liberation.la
 
 SUBDIRS = pixmaps
 if LIBZMQ
@@ -50,34 +50,34 @@ endif LIBZMQ
 
 ACORNOBJS = acorn2sfd.o
 
-FFSCRIPT_HEADER = "\#!$(bindir)/fontforge -lang=ff"
+FFSCRIPT_HEADER = "\#!$(bindir)/fontforge-liberation -lang=ff"
 
-fontimage: fontimage.pe
-	echo "${FFSCRIPT_HEADER}" | cat - "${srcdir}/fontimage.pe" > fontimage
-	chmod +x fontimage
+fontimage-liberation: fontimage.pe
+	echo "${FFSCRIPT_HEADER}" | cat - "${srcdir}/fontimage.pe" > fontimage-liberation
+	chmod +x fontimage-liberation
 
-fontlint: fontlint.pe
-	echo "${FFSCRIPT_HEADER}" | cat - "${srcdir}/fontlint.pe" > fontlint
-	chmod +x fontlint
+fontlint-liberation: fontlint.pe
+	echo "${FFSCRIPT_HEADER}" | cat - "${srcdir}/fontlint.pe" > fontlint-liberation
+	chmod +x fontlint-liberation
 
-sfddiff: sfddiff.pe
-	echo "${FFSCRIPT_HEADER}" | cat - "${srcdir}/sfddiff.pe" > sfddiff
-	chmod +x sfddiff
+sfddiff-liberation: sfddiff.pe
+	echo "${FFSCRIPT_HEADER}" | cat - "${srcdir}/sfddiff.pe" > sfddiff-liberation
+	chmod +x sfddiff-liberation
 
 acorn2sfd: $(ACORNOBJS)
-	$(LIBTOOL) --mode=link $(CC) -o acorn2sfd $(ACORNOBJS) libfontforgeexe.la $(LDADD)
+	$(LIBTOOL) --mode=link $(CC) -o acorn2sfd $(ACORNOBJS) libfontforgeexe-liberation.la $(LDADD)
 
 #--------------------------------------------------------------------------
 
-LIBADD = $(top_builddir)/Unicode/libgunicode.la	\
-	$(top_builddir)/gutils/libgutils.la	\
-	$(top_builddir)/gutils/libgioftp.la	\
-	$(top_builddir)/fontforge/libfontforge.la \
+LIBADD = $(top_builddir)/Unicode/libgunicode-liberation.la	\
+	$(top_builddir)/gutils/libgutils-liberation.la	\
+	$(top_builddir)/gutils/libgioftp-liberation.la	\
+	$(top_builddir)/fontforge/libfontforge-liberation.la \
 	$(top_builddir)/lib/libgnu.la
 
 GUILIBADD =
 if GRAPHICAL_USER_INTERFACE
-GUILIBADD += $(top_builddir)/gdraw/libgdraw.la $(XINPUT_LIBS)	\
+GUILIBADD += $(top_builddir)/gdraw/libgdraw-liberation.la $(XINPUT_LIBS)	\
 	$(XKB_LIBS)
 endif GRAPHICAL_USER_INTERFACE
 
@@ -94,23 +94,23 @@ AM_CPPFLAGS = "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc"	\
 
 if THE_PROGRAMS
 
-fontforge_SOURCES = main.c
-fontforge_CPPFLAGS = $(AM_CPPFLAGS)
-fontforge_LDADD = libfontforgeexe.la $(LDADD)
-fontforge_LDFLAGS = $(MY_CFLAGS) -export-dynamic
+fontforge_liberation_SOURCES = main.c
+fontforge_liberation_CPPFLAGS = $(AM_CPPFLAGS)
+fontforge_liberation_LDADD = libfontforgeexe-liberation.la $(LDADD)
+fontforge_liberation_LDFLAGS = $(MY_CFLAGS) -export-dynamic
 if LIBZMQ
-fontforge_LDADD += $(top_builddir)/collab/libzmqcollab.la $(MY_LIBS) $(LIBZMQ_LIBS)
+fontforge_liberation_LDADD += $(top_builddir)/collab/libzmqcollab-liberation.la $(MY_LIBS) $(LIBZMQ_LIBS)
 endif
 
 endif THE_PROGRAMS
 
 #--------------------------------------------------------------------------
 
-libfontforgeexe_la_CPPFLAGS = $(AM_CPPFLAGS)
+libfontforgeexe_liberation_la_CPPFLAGS = $(AM_CPPFLAGS)
 
 if GRAPHICAL_USER_INTERFACE
 
-libfontforgeexe_la_SOURCES = alignment.c anchorsaway.c   \
+libfontforgeexe_liberation_la_SOURCES = alignment.c anchorsaway.c   \
 	autowidth2dlg.c basedlg.c bdfinfo.c bitmapdlg.c bitmapview.c	\
 	charinfo.c charview.c clipui.c combinations.c contextchain.c	\
 	cursors.c cvaddpoints.c cvdebug.c cvdgloss.c cvexportdlg.c		\
@@ -129,33 +129,33 @@ libfontforgeexe_la_SOURCES = alignment.c anchorsaway.c   \
 	collabclientui.c collabclientui.h                                       \
 	sfundo.c wordlistparser.c wordlistparser.h fontforgeexe.h
 
-EXTRA_libfontforgeexe_la_SOURCES = macobjective.m
+EXTRA_libfontforgeexe_liberation_la_SOURCES = macobjective.m
 
-libfontforgeexe_la_CPPFLAGS +=  $(LIBZMQ_CFLAGS) $(GTK2_CFLAGS)
+libfontforgeexe_liberation_la_CPPFLAGS +=  $(LIBZMQ_CFLAGS) $(GTK2_CFLAGS)
 
 if MACINTOSH
-libfontforgeexe_la_OBJCFLAGS = -I../osx/FontForge.app/Contents/Frameworks/Breakpad.framework/Headers
-libfontforgeexe_la_SOURCES += macobjective.m
+libfontforgeexe_liberation_la_OBJCFLAGS = -I../osx/FontForge.app/Contents/Frameworks/Breakpad.framework/Headers
+libfontforgeexe_liberation_la_SOURCES += macobjective.m
 endif
 
 else !GRAPHICAL_USER_INTERFACE
 
-libfontforgeexe_la_SOURCES = startnoui.c
+libfontforgeexe_liberation_la_SOURCES = startnoui.c
 
 endif !GRAPHICAL_USER_INTERFACE
 
 
-libfontforgeexe_la_LIBADD = $(LTDLDEPS) $(LIBADD) $(GUILIBADD) $(MY_LIBS) $(GTK2_LIBS) $(top_builddir)/fontforge/libfontforge.la $(BREAKPAD_LIBADD)
+libfontforgeexe_liberation_la_LIBADD = $(LTDLDEPS) $(LIBADD) $(GUILIBADD) $(MY_LIBS) $(GTK2_LIBS) $(top_builddir)/fontforge/libfontforge-liberation.la $(BREAKPAD_LIBADD)
 
-libfontforgeexe_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBFONTFORGEEXE_VERSION) \
+libfontforgeexe_liberation_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBFONTFORGEEXE_VERSION) \
 	${MY_LIB_LDFLAGS}
 
 if LIBZMQ
-libfontforgeexe_la_LIBADD += $(top_builddir)/collab/libzmqcollab.la $(LIBZMQ_LIBS)
+libfontforgeexe_liberation_la_LIBADD += $(top_builddir)/collab/libzmqcollab-liberation.la $(LIBZMQ_LIBS)
 endif
 
 if PYTHON_SCRIPTING
-libfontforgeexe_la_LIBADD += $(PYTHON_LIBS)
+libfontforgeexe_liberation_la_LIBADD += $(PYTHON_LIBS)
 endif PYTHON_SCRIPTING
 
 #--------------------------------------------------------------------------
@@ -164,7 +164,7 @@ EXTRA_DIST = fontimage.pe fontlint.pe sfddiff.pe	\
 	fontimage.1 fontlint.1 sfddiff.1		\
 	acorn2sfd.c darwinsetup.in
 # MacFontForgeApp.zip
-MOSTLYCLEANFILES = fontimage fontlint sfddiff
+MOSTLYCLEANFILES = fontimage-liberation fontlint-liberation sfddiff-liberation
 DISTCLEANFILES = $(MOSTLYCLEANFILES)
 
 #--------------------------------------------------------------------------
diff --git a/fontforgeexe/collab/Makefile.am b/fontforgeexe/collab/Makefile.am
index c0e10375f..c96ecf082 100644
--- a/fontforgeexe/collab/Makefile.am
+++ b/fontforgeexe/collab/Makefile.am
@@ -48,9 +48,9 @@ fontforge_internal_collab_server_CPPFLAGS = $(AM_CPPFLAGS) \
   "-I$(top_builddir)/lib" "-I$(top_srcdir)/lib" \
   $(MY_CFLAGS) $(LIBZMQ_CFLAGS)
 fontforge_internal_collab_server_LDADD = $(LDADD) \
-   $(top_builddir)/collab/libzmqcollab.la \
-   $(top_builddir)/gutils/libgutils.la \
-   $(top_builddir)/Unicode/libgunicode.la
+   $(top_builddir)/collab/libzmqcollab-liberation.la \
+   $(top_builddir)/gutils/libgutils-liberation.la \
+   $(top_builddir)/Unicode/libgunicode-liberation.la
 fontforge_internal_collab_server_LDFLAGS = $(MY_CFLAGS) $(MY_LIBS) $(LIBZMQ_LIBS) -export-dynamic
 
 GITIGNOREFILES += $(internal_bin_PROGRAMS)
diff --git a/gdraw/Makefile.am b/gdraw/Makefile.am
index 4a781694a..634f4db64 100644
--- a/gdraw/Makefile.am
+++ b/gdraw/Makefile.am
@@ -27,9 +27,9 @@
 
 include $(top_srcdir)/mk/layout.am
 
-lib_LTLIBRARIES = libgdraw.la
+lib_LTLIBRARIES = libgdraw-liberation.la
 
-libgdraw_la_SOURCES = choosericons.c ctlvalues.c drawboxborder.c	\
+libgdraw_liberation_la_SOURCES = choosericons.c ctlvalues.c drawboxborder.c	\
 	gaskdlg.c gbuttons.c gcolor.c gchardlg.c gcontainer.c gdraw.c	\
 	gdrawbuildchars.c gdrawerror.c gdrawtxt.c gdrawtxtinit.c	\
 	gfilechooser.c gfiledlg.c ggadgets.c ggroupbox.c gimageclut.c	\
@@ -42,22 +42,22 @@ libgdraw_la_SOURCES = choosericons.c ctlvalues.c drawboxborder.c	\
 	gimagebmpP.h gresourceP.h gxcdrawP.h fontP.h ggadgetP.h		\
 	gpsdrawP.h gwidgetP.h gxdrawP.h hotkeys.c hotkeys.h
 
-libgdraw_la_CFLAGS = $(WARN_CFLAGS)
+libgdraw_liberation_la_CFLAGS = $(WARN_CFLAGS)
 
-libgdraw_la_CPPFLAGS = "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc"	\
+libgdraw_liberation_la_CPPFLAGS = "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc"	\
 	"-I$(top_builddir)/lib" "-I$(top_srcdir)/lib"			\
 	"-I$(top_srcdir)/fontforge" "-DSHAREDIR=\"${MY_SHAREDIR}\"" $(MY_CFLAGS)
 
-libgdraw_la_LIBADD = $(MY_LIBS) $(top_builddir)/Unicode/libgunicode.la	\
-	$(top_builddir)/gutils/libgutils.la \
-	$(top_builddir)/fontforge/libfontforge.la \
+libgdraw_liberation_la_LIBADD = $(MY_LIBS) $(top_builddir)/Unicode/libgunicode-liberation.la	\
+	$(top_builddir)/gutils/libgutils-liberation.la \
+	$(top_builddir)/fontforge/libfontforge-liberation.la \
 	$(top_builddir)/lib/libgnu.la
 
 if GRAPHICAL_USER_INTERFACE
-libgdraw_la_LIBADD += $(XINPUT_LIBS)
+libgdraw_liberation_la_LIBADD += $(XINPUT_LIBS)
 endif GRAPHICAL_USER_INTERFACE
 
-libgdraw_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBGDRAW_VERSION) \
+libgdraw_liberation_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBGDRAW_VERSION) \
 	${MY_LIB_LDFLAGS}
 
 EXTRA_DIST = gdrawwacomdriver.c genkeysym.c growcol.c
diff --git a/gtkui/Makefile.in b/gtkui/Makefile.in
index 94f145a5e..ca42e14b8 100644
--- a/gtkui/Makefile.in
+++ b/gtkui/Makefile.in
@@ -34,8 +34,8 @@ _CFLAGS = -I$(top_srcdir)/inc -I../inc -I$(srcdir) -I$(top_srcdir) @WFLAGS@ $(X_
     @CPPFLAGS@ '-DPREFIX="@prefix@"'
 CFLAGS = @CFLAGS@ $(_CFLAGS) `pkg-config --cflags gtk+-2.0`
 LDFLAGS = @LDFLAGS@
-LIBS = -rpath $(libdir) ../libfontforge.la ../libgutils.la \
-    ../libgunicode.la \
+LIBS = -rpath $(libdir) ../libfontforge-liberation.la ../libgutils-liberation.la \
+    ../libgunicode-liberation.la \
     `pkg-config --libs gtk+-2.0` `pkg-config --libs gmodule-2.0` \
     @LIBS@ $(STATIC_LIBS) -lm
 
diff --git a/gutils/Makefile.am b/gutils/Makefile.am
index e73d4857e..608277b9a 100644
--- a/gutils/Makefile.am
+++ b/gutils/Makefile.am
@@ -25,11 +25,11 @@
 # OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 # ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
-lib_LTLIBRARIES = libgutils.la libgioftp.la
+lib_LTLIBRARIES = libgutils-liberation.la libgioftp-liberation.la
 
 #--------------------------------------------------------------------------
 
-libgutils_la_SOURCES = divisors.c dlist.c fsys.c g_giomime.c gcol.c	\
+libgutils_liberation_la_SOURCES = divisors.c dlist.c fsys.c g_giomime.c gcol.c	\
 	gimage.c gimagebmpP.h gimageread.c gimagereadbmp.c		\
 	gimagereadgif.c gimagereadjpeg.c gimagereadpng.c		\
 	gimagereadras.c gimagereadrgb.c gimagereadtiff.c		\
@@ -39,31 +39,31 @@ libgutils_la_SOURCES = divisors.c dlist.c fsys.c g_giomime.c gcol.c	\
 	giothread.c giotrans.c giofuncP.h gioP.h gnetwork.c gutils.c	\
 	gwwintl.c prefs.c prefs.h unicodelibinfo.c unicodelibinfo.h
 
-libgutils_la_CFLAGS = $(WARN_CFLAGS)
+libgutils_liberation_la_CFLAGS = $(WARN_CFLAGS)
 
-libgutils_la_CPPFLAGS = "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc"	\
+libgutils_liberation_la_CPPFLAGS = "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc"	\
 	"-I$(top_builddir)/lib" "-I$(top_srcdir)/lib"			\
 	$(MY_CFLAGS)
 
-libgutils_la_LIBADD = $(MY_LIBS) $(top_builddir)/Unicode/libgunicode.la $(top_builddir)/lib/libgnu.la
+libgutils_liberation_la_LIBADD = $(MY_LIBS) $(top_builddir)/Unicode/libgunicode-liberation.la $(top_builddir)/lib/libgnu.la
 if LIBZMQ
-libgutils_la_LIBADD += $(LIBZMQ_LIBS)
-libgutils_la_CFLAGS += $(LIBZMQ_CFLAGS)
+libgutils_liberation_la_LIBADD += $(LIBZMQ_LIBS)
+libgutils_liberation_la_CFLAGS += $(LIBZMQ_CFLAGS)
 endif
 
-libgutils_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBGUTILS_VERSION) \
+libgutils_liberation_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBGUTILS_VERSION) \
 	${MY_LIB_LDFLAGS}
 
 #--------------------------------------------------------------------------
 
-libgioftp_la_SOURCES = gioftp.c gioftpP.h
+libgioftp_liberation_la_SOURCES = gioftp.c gioftpP.h
 
-libgioftp_la_CPPFLAGS = "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc"	\
+libgioftp_liberation_la_CPPFLAGS = "-I$(top_builddir)/inc" "-I$(top_srcdir)/inc"	\
 	$(MY_CFLAGS)
 
-libgioftp_la_LIBADD = $(MY_LIBS) $(top_builddir)/Unicode/libgunicode.la
+libgioftp_liberation_la_LIBADD = $(MY_LIBS) $(top_builddir)/Unicode/libgunicode-liberation.la
 
-libgioftp_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBGIOFTP_VERSION) \
+libgioftp_liberation_la_LDFLAGS = $(MY_CFLAGS) -version-info $(LIBGIOFTP_VERSION) \
 	${MY_LIB_LDFLAGS}
 
 #--------------------------------------------------------------------------
diff --git a/pyhook/Makefile.am b/pyhook/Makefile.am
index 684b2f1ac..7eebe67e9 100644
--- a/pyhook/Makefile.am
+++ b/pyhook/Makefile.am
@@ -45,10 +45,10 @@ AM_CPPFLAGS = -DLIBDIR='"$(libdir)"' $(PYTHON_CFLAGS)			\
 	"-I$(top_builddir)/fontforge" "-I$(top_srcdir)/fontforge"	\
 	$(MY_CFLAGS)
 
-LIBADD = $(top_builddir)/Unicode/libgunicode.la	\
-	$(top_builddir)/gutils/libgutils.la			\
-	$(top_builddir)/gutils/libgioftp.la			\
-	$(top_builddir)/fontforge/libfontforge.la
+LIBADD = $(top_builddir)/Unicode/libgunicode-liberation.la	\
+	$(top_builddir)/gutils/libgutils-liberation.la			\
+	$(top_builddir)/gutils/libgioftp-liberation.la			\
+	$(top_builddir)/fontforge/libfontforge-liberation.la
 
 -include $(top_srcdir)/git.mk
 
-- 
2.12.0

